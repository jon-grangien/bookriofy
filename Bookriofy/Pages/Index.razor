@page "/"
@inject BookriofyGraphqlClient BookriofyGraphqlClient;

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<SurveyPrompt Title="How is Blazor working for you?" />

<ul>
	@foreach (string title in bookTitles)
	{
		<li>@title</li>
	}
</ul>

@code {
	private string[] bookTitles = Array.Empty<string>();

	protected override async Task OnInitializedAsync()
	{
		var result = await BookriofyGraphqlClient.GetBooks.ExecuteAsync();
		bookTitles = result.Data.Books.Select(b => b.Title).ToArray();
	}
}